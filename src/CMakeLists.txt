add_subdirectory(communicator)
add_subdirectory(executor)
if(Qt5Core_FOUND AND Qt5Widgets_FOUND)
    add_subdirectory(gui)
endif()
add_subdirectory(manager)
add_subdirectory(netbuilder)
add_subdirectory(neuralnet)
add_subdirectory(platform)

# TODO: libhics should probably be dropped in its current form
set(SOURCE_FILES NotImplementedException.h)
add_library(hics STATIC ${SOURCE_FILES})
set_target_properties(hics PROPERTIES LINKER_LANGUAGE CXX)

add_executable(hics-exec main.cpp)
target_link_libraries(hics-exec hics)

target_link_libraries(hics-exec communicator)
target_link_libraries(hics-exec executor)
if(Qt5Core_FOUND AND Qt5Widgets_FOUND)
    target_link_libraries(hics-exec gui)
endif()
target_link_libraries(hics-exec manager)
target_link_libraries(hics-exec netbuilder)
target_link_libraries(hics-exec neuralnet)
target_link_libraries(hics-exec platform)
